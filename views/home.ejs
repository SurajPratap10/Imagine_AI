<%- include('includes/header.ejs') %>
<%- include('includes/PRE.ejs') %>
<%- include('includes/sidebar.ejs') %>
</head>
<%- include('includes/navbar.ejs') %>
<main>
  <!-- ðŸŸ£ Fairy Dust Container -->
  <div class="fairy-dust-container"></div>
  
  <section class="about">
    <div class="dashboard">
      <div class="left">
        <h1 class="dashboard-h1">
          Unleashing the power of DALL-E 2 to generate stunning, one-of-a-kind images
        </h1>
        <div class="main-content-wrapper">
          <div class="main-content">
            <h2>
              <b>The IMAGINE - AI</b>, which is built using the OpenAI API library DALL-E 2, aims to solve the
              problem of limited creativity and imagination. This is a fully mobile responsive image generator
              built with Node.js and Express that uses OpenAI's Dall-E models to generate images.
            </h2>
            <br>
            <h2><b>The IMAGINE - AI</b> offers a solution to this problem by providing users with a powerful AI
              tool that can generate original and visually stunning images. With just a few prompts or keywords,
              the AI is able to generate a wide range of images that are unlike anything that has been seen
              before.</h2>
          </div>
        </div>

        <a class="try-it-cover" href="/generateImg">
          <button class="btn" aria-label="try it">
            <span id="try-btn">Try it</span>
            <div class="flow"></div>
          </button>
        </a>
      </div>
      <div class="right">
        <img loading="lazy" src="hero.svg" class="home-logo" alt="Hero Image">
      </div>
    </div>

    <div class="di">
      <h1>Some examples of images generated through DALL-E2</h1>
      <div class="wrapper">
        <div class="cardEx float-in">
          <img loading="lazy" id="expImg1" src="1.webp" alt="Photograph of astronaut riding horse">
          <div class="info">
            <h1>Horse</h1>
            <p>Photograph of an astronaut riding a horse.</p>
            <button class="btn" aria-label="Download" onclick="downloadImage('expImg1')">Download</button>
          </div>
        </div>
        <div class="cardEx float-in">
          <img loading="lazy" id="expImg2" src="2.webp" alt="Oil painting of capybara wearing crown">
          <div class="info">
            <h1>Capybara</h1>
            <p>An oil painting of a capybara wearing a crown.</p>
            <button class="btn" aria-label="Download" onclick="downloadImage('expImg2')">Download</button>
          </div>
        </div>
        <div class="cardEx float-in">
          <img loading="lazy" id="expImg3" src="3.webp" alt="Synthwave sports car">
          <div class="info">
            <h1>Sports Car</h1>
            <p>Synthwave sports car on a port road.</p>
            <button class="btn" aria-label="Download" onclick="downloadImage('expImg3')">Download</button>
          </div>
        </div>
        <div class="cardEx float-in">
          <img loading="lazy" id="expImg4" src="4.webp" alt="Astronaut lounging in a resort">
          <div class="info">
            <h1>Astronaut</h1>
            <p>An astronaut lounging in a resort in space, vaporwave.</p>
            <button class="btn" aria-label="Download" onclick="downloadImage('expImg4')">Download</button>
          </div>
        </div>
      </div>
    </div>
    
    <div style="display: flex; flex-direction: column; align-items: center; width: 100vw; height: 100vh; margin-top: 100px;">
      <h1 style="text-align: center; color: rgb(243, 243, 243); font-size: 3rem; margin-bottom: 20px;">TUTORIAL</h1>
      <div style="display:flex; align-items: center; width:90%;height:fit-content;">
        <iframe allow="autoplay;" allowfullscreen style="border:none" src="https://clipchamp.com/watch/S9VfyxjttlP/embed" width="100%" height="560"></iframe>
      </div>
    </div>
    
    <section id="newsletter">
      <div class="news-text">
        <h4 style="margin-bottom: 1rem;
                    font-size: 1.875rem;
                    line-height: 2.25rem;
                    font-weight: 800;
                    letter-spacing: -0.025em;
                    color: #ffffff;">
          Sign Up for Newsletter
        </h4>
        <p style="margin-bottom: 2rem;
                  max-width: 42rem;
                  font-weight: 300;
                  color: #ffffff;">
          Get e-mail updates about the latest trends in technology
        </p>
      </div>
      <div class="news-form">
        <form action="https://getform.io/f/94db7290-a297-4170-b95f-a99d55172aa8" method="POST">
          <input type="email" name="email" id="email" placeholder="Enter your Email Id..." style="
                    background-color: #fff;
                    " required>
          <button id="btn-new" style="
                    width: 12rem;
                    padding: 0.625rem 0.875rem;
                    border-radius: 0.375rem;
                    margin-left: 2rem;
                    font-size: 0.875rem;
                    font-weight: 600;
                    color: #ffffff;
                    transform: scale(0.9);
                    background-color: #6366F1;
                    box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
                    text-align: center;">Sign Up</button>
        </form>
      </div>
    </section>  
  </section>
</main>

<%- include('includes/footer.ejs') %>
<%- include('includes/topToBottomScrollButton.ejs') %>

<!-- ðŸŸ£ Styles Section -->
<style>
  @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@200;300;400;500;600;700&display=swap');

  .left .dashboard-h1, .main-content b {
    font-family: 'Poppins', sans-serif;
    text-align: start;
    letter-spacing: 1.5px;
  }

  .main-content {
    font-family: cursive, sans-serif;
    text-align: center;
  }

  /* Dark mode styles */
  .dark-mode {
    background-color: #121212;
    color: #ffffff;
  }

  /* Dark mode styles for navbar */
  .dark-mode #navbar {
    background-color: #121212;
    color: #ffffff;
  }

  /* Dark mode styles for the about section */
  .dark-mode .about {
    background-color: #121212;
    color: #ffffff;
    padding-bottom: -2rem;
  }

  /* Styles for the dark mode toggle button */
  .dark-mode-toggle {
    font-size: 24px;
    cursor: pointer;
  }

  .dark-mode-toggle i {
    transition: transform 0.3s ease-in-out;
    font-size: 1.1em;
  }

  #email::placeholder {
    color: #041e42;
  }

  .info .btn{
    font-size: 12px;
    padding: 20px 20px;
    letter-spacing: 2px;
    width: auto;
    border-radius: 10px;
  }

  /* ðŸŸ£ Fairy Dust Styles */
  .fairy-dust-container {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none; /* Allows clicks through the container */
    overflow: hidden;
    z-index: 9999; /* Ensures particles are on top */
  }

  .fairy-dust {
    position: absolute;
    width: 40%; /* Increased size */
    height: 40px; /* Increased size */
    background: radial-gradient(circle, rgba(255,255,255,1) 0%, rgba(255,192,203,0) 70%);
    border-radius: 50%;
    pointer-events: none;
    animation: fairy-dust-animation 1.5s ease-out forwards; /* Increased duration */
  }

  @keyframes fairy-dust-animation {
    from {
      opacity: 1;
      transform: translate(0, 0) scale(1);
    }
    to {
      opacity: 0;
      transform: translate(0, -30px) scale(1.5); /* Increased translate and scale */
    }
  }

  /* Optional: Adjust button styles for consistency */
  .btn {
    cursor: pointer;
    /* Add more button styles as needed */
  }
</style>

<!-- ðŸŸ£ Scripts Section -->
<script>
  function toggleDarkMode() {
    const body = document.body;
    const navbar = document.querySelector("#navbar");
    const aboutSection = document.querySelector(".about");
    const darkModeToggle = document.querySelector(".dark-mode-toggle");

    const darkModeIcon = document.getElementsByClassName("dark-mode-icon");
    var darkModeIconCollection = Array.from(darkModeIcon);

    body.classList.toggle("dark-mode");
    navbar.classList.toggle("dark-mode");
    aboutSection.classList.toggle("dark-mode");
    // darkModeToggle.classList.toggle("dark");

    darkModeIconCollection.map((darkIcon) => {
      if (darkIcon.innerHTML === '<i class="fa-solid fa-moon"></i>') {
        darkIcon.innerHTML = '<i class="fa-sharp fa-solid fa-sun"></i>';
      } else {
        darkIcon.innerHTML = '<i class="fa-solid fa-moon"></i>';
      }
    });
  }

  // Download Image logic
  function downloadImage(imgId){
    const image = document.getElementById(imgId).getAttribute("src");
    const url = window.location.origin + '/' + image;
    const fileName = image.substring(image.lastIndexOf("/")+1);

    fetch(url)
      .then(response => response.blob())
      .then(blob => {
        // Create a temporary anchor element
        const downloadLink = document.createElement('a');
        downloadLink.href = URL.createObjectURL(blob);
        downloadLink.download = fileName || 'image.jpg';

        // Trigger a click event on the anchor element
        downloadLink.click();

        // Clean up the temporary anchor and blob object
        URL.revokeObjectURL(downloadLink.href);
        downloadLink.remove();
      })
      .catch(error => {
        console.error('Error downloading the image:', error);
      });
  }

  // ðŸŸ£ Fairy Dust Cursor Animation
  (function() {
    // Throttle function to improve performance
    function throttle(fn, wait) {
      let time = Date.now();
      return function() {
        if ((time + wait - Date.now()) < 0) {
          fn.apply(this, arguments);
          time = Date.now();
        }
      };
    }

    // Function to create and animate particles
    function createFairyDust(e) {
      const particle = document.createElement('div');
      particle.className = 'fairy-dust';
      
      // Set the particle's position based on cursor location
      particle.style.top = `${e.clientY}px`;
      particle.style.left = `${e.clientX}px`;
      
      // Randomize the movement and size
      const size = Math.random() * 30 + 15; // Size between 5px and 15px
      particle.style.width = `${size}px`;
      particle.style.height = `${size}px`;

      // Append the particle to the container
      document.querySelector('.fairy-dust-container').appendChild(particle);
      
      // Remove the particle after the animation completes to prevent clutter
      setTimeout(() => {
        particle.remove();
      }, 1500); // Duration matches the CSS animation duration (1.5s)
    }

    // Add event listener with throttling
    if (!('ontouchstart' in window)) { // Disable on touch devices
      document.addEventListener('mousemove', throttle(createFairyDust, 20)); // Adjust the wait time as needed
    }
  })();
</script>
